<!doctype html>
<html lang="en" style="height: 100%;">
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>DVUI Web Backend</title>
    <!-- TEMPLATE_HASH replaced by build.zig -->
    <script src="web.js?cache-buster=TEMPLATE_HASH_WITH_PADDING__ITS_64_BYTES_LONG_THE_SAME_AS_SHA256"></script>
    <script>
        const dvui = new Dvui();
        const dvui_imports = dvui.imports();

        const imports = { 
            env : {
                ...dvui_imports.env,
            },
        };
        function myOnLoad(canvasId, wasmFile) {
            WebAssembly.instantiateStreaming(fetch(wasmFile), imports).then(function (results) {
                dvui.wasmResult = results;
                dvui.dvui(canvasId);
            });
        }
    </script>
  </head>

  <body style="height: 100%; margin: 0; padding: 0;" onload='myOnLoad("#dvui-canvas", "web-test.wasm?cache-buster=TEMPLATE_HASH_WITH_PADDING__ITS_64_BYTES_LONG_THE_SAME_AS_SHA256");'>
    <!-- need tabIndex for the canvas to receive keydown/keyup/beforeinput events -->
    <canvas id="dvui-canvas" tabIndex="1" style="display: block; width: 100%; height: 100%; outline: none; caret-color: transparent;"></canvas>
  </body>
</html>
